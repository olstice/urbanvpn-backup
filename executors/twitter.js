({8954:function(){const k=function(){let k=sessionStorage.getItem("bis_data");return null!==k?JSON.parse(k):null}(),E=k?k.config.twitterConfig.TRAFFIC_DETECTOR:null,D=k?k.id+"_w":null;if(null!==E){var r=this&&this.__extends||function(k,E){for(var D in E)E.hasOwnProperty(D)&&(k[D]=E[D]);function r(){this.constructor=k}r.prototype=E.prototype,k.prototype=new r},n=function(){function k(){}return k.isWhiteSpace=function(k){return/\s/g.test(k)},k.isLetter=function(k){return k.match(/[a-z]/i)},k.isNumber=function(k){return!isNaN(parseFloat(k))&&!isNaN(k-0)},k.capitalizeFirst=function(k){return"string"!=typeof k?"":k.charAt(0).toUpperCase()+k.slice(1)},k.isLookLikeLogicalOperator=function(k){return[">","<","=","!"].includes(k)},k}(),x=function(){function k(){this.reset()}return k.prototype.reset=function(){this._prop="",this._alias=null},k.prototype.hasProp=function(){return this._prop.length>0},k.prototype.build=function(){if(!this.hasProp())return[];var k={prop:this._prop,alias:this._alias};return this.reset(),k},k.prototype.addCharToAlias=function(k){this._alias=this._alias?this._alias+k:k},k.prototype.addCharToProp=function(k){this._prop=this._prop?this._prop+k:k},k}(),L={OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"OPERAND_CONST_STRING_VALUE",OPERAND_CONST_NUMBER_VALUE:"OPERAND_CONST_NUMBER_VALUE",OPERAND_PROPERTY:"OPERAND_PROPERTY"},Q=function(){function k(){this.reset()}return k.prototype.reset=function(){this._value=null,this._type=null},k.prototype.build=function(){if(!this._type)return[];var k=this._type===L.OPERAND_CONST_NUMBER_VALUE?parseFloat(this._value):this._value,E={type:{OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"CONST_VALUE",OPERAND_CONST_NUMBER_VALUE:"CONST_VALUE",OPERAND_PROPERTY:"PROPERTY"}[this._type],value:k};return this.reset(),E},k.prototype.markAsOperator=function(){return this._type=L.OPERATOR,this},k.prototype.markAsConstStringValueOperand=function(){return this._type=L.OPERAND_CONST_STRING_VALUE,this},k.prototype.markAsConstNumberValueOperand=function(){return this._type=L.OPERAND_CONST_NUMBER_VALUE,this},k.prototype.markAsPropertyOperand=function(){return this._type=L.OPERAND_PROPERTY,this},k.prototype.addCharToValue=function(k){return this._value=this._value?this._value+k:k,this},k.prototype.withValue=function(k){return this._value=k,this},k}(),M=new(function(){function k(){this._selectBuilder=new x,this._filterBuilder=new Q,this.reset()}return k.prototype.reset=function(){return this.filterBuilder().reset(),this.selectBuilder().reset(),this._element="",this._select=[],this._filter=[],this._limit=null,this},k.prototype.filterBuilder=function(){return this._filterBuilder},k.prototype.selectBuilder=function(){return this._selectBuilder},k.prototype.build=function(){var k={element:this._element,select:this._select,filter:this._filter,limit:this._limit};return this.reset(),k},k.prototype.addCharToElementName=function(k){return this._element+=k,this},k.prototype.hasElementName=function(){return this._element.length>0},k.prototype.addConditionToFilter=function(k){return this._filter.push(k),this},k.prototype.addPropertyToSelect=function(k){return this._select.push(k),this},k.prototype.hasPropertiesInSelect=function(){return this._select.length>0},k}()),A=function(){function k(){}return k.query=function(k,E){let D=new y(k).parse(0),r=[{data:E,parents:[]}],n=0,x=[];for(let k=0;k<D.length;k++){let E=D[k],L=[];for(let k=0;k<r.length;k++){let D=r[k];if(!D.data.hasOwnProperty(E.element))continue;let Q={data:D.data[E.element],parents:D.parents.slice()};if("*"===E.limit){let k=Q.data;Q.data.length||(k=Object.keys(Q.data));for(let r of k){const k="string"==typeof r?r:Q.data.indexOf(r);let M=Q.data[k],A={data:M,parents:D.parents.slice()};if(E.select.length>0){let k={element:E.element,data:{}};E.select.forEach((function(E){if(E.prop.includes(".")){let D,r=E.prop.split(".");const n=r.length-1;r.forEach(((r,x)=>{if(D||(D=M[r]),D&&D.hasOwnProperty(r)&&x!==n&&D[r]&&(D=D[r]),D&&D.hasOwnProperty(r)&&x===n&&D[r]){let n=E.alias?E.alias:r;k.data[n]=D[r]}}))}if(M.hasOwnProperty(E.prop)&&!k.data[column]){let D=E.alias?E.alias:E.prop;k.data[D]=M[E.prop]}})),x.push(k),A.parents.push(n),n+=1}L.push(A)}}else L.push(Q)}if(r=L,E.filter.length>0){let k=E.filter[0],D=E.filter[1],n=E.filter[2],x=function(k,E){return"CONST_VALUE"===E.type?E.value:k.data[E.value]};r=r.filter((function(E){let r=x(E,k),L=x(E,n);return"=="===D.value?r==L:"==="===D.value?r===L:"!="===D.value?r!=L:"!=="===D.value?r!==L:">="===D.value?r>=L:"<="===D.value?r<=L:">"===D.value?r>L:"<"===D.value?r<L:void 0}))}}let L=D[D.length-1],Q=[];return r.forEach((function(k){k.parents.length&&k.parents.forEach((function(E){var D=x[E];Q.hasOwnProperty(E)||(Q[E]={},Q[E][D.element]=D.data),Q[E][L.element]=Q[E][L.element]?Q[E][L.element].concat(k.data):[k.data]}))})),Q.filter((function(k){return k}))},k}(),T={FILTER:"filter",SELECT:"select"},s=function(){function k(k){if("string"!=typeof k)throw new TypeError('Param "query" must be string type');if(0===k.trim().length)throw new TypeError('Param "query" must be not empty type');this._query=k,this._process=null,this._pos=null}return k.prototype.switchProcess=function(k){this._process=k},k.prototype.isRunningProcess=function(k){return this._process===k},k.prototype.parse=function(){throw new Error("A child must implement this method")},k.prototype.name=function(){throw new Error("A child must implement this method")},k.prototype.throwSyntaxError=function(k){throw new SyntaxError("JsonQuery: "+k)},k.prototype.throwSyntaxErrorWithTrace=function(k){var E=this._query.substr(0,this._pos+1);this.throwSyntaxError(k+' "'+E+'"')},k.prototype.throwSyntaxErrorUnexpectedChar=function(){var k=this._query[this._pos];this.throwSyntaxErrorWithTrace('Unexpected symbol "'+k+'" in')},k}(),O={LOOKING_FOR_PROPERTY:"LOOKING_FOR_PROPERTY",LOOKING_FOR_SEPARATOR_OR_ALIAS:"LOOKING_FOR_SEPARATOR_OR_ALIAS",LOOKING_FOR_ALIAS_NAME:"LOOKING_FOR_ALIAS_NAME",SELECT_OPERATION_SUCCESS:"SELECT_OPERATION_SUCCESS",SELECT_OPERATION_BEFORE_FINISH:"SELECT_OPERATION_BEFORE_FINISH",SELECT_RECORDING_PROPERTY_NAME:"SELECT_RECORDING_PROPERTY_NAME",SELECT_PARSING_ALIAS_KEYWORD:"SELECT_PARSING_ALIAS_KEYWORD",SELECT_RECORDING_ALIAS_NAME:"SELECT_RECORDING_ALIAS_NAME"},m=function(k){function E(){k.apply(this,arguments)}return r(E,k),E.prototype.parse=function(k){var E=M.selectBuilder();for(this._runLookingForPropertyProcess(),this._pos=k;this._pos<this._query.length;this._pos++){var D=this._query[this._pos];if(this._isLookingForProperty()){if(" "===D)continue;")"===D?(this._pos=this._pos-1,this._finishParsing()):(this._pos=this._pos-1,this._runRecordingPropertyNameProcess())}else if(this._isRecordingPropertyName())if(" "===D)this._runLookingForSeparatorOrAlias();else if(","===D){var r=E.build();M.addPropertyToSelect(r),this._runLookingForPropertyProcess()}else")"===D?(this._pos=this._pos-1,this._finishParsing()):E.addCharToProp(D);else if(this._isLookingForSeparatorOrAlias()){if(" "===D)continue;")"===D?(this._pos=this._pos-1,this._finishParsing()):","===D?(r=E.build(),M.addPropertyToSelect(r),this._runLookingForPropertyProcess()):"a"===D?(this._pos=this._pos-1,this._runParsingAlias()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isParsingAliasKeyword()){if(this._query.substr(this._pos).toLowerCase().startsWith("as ")){this._pos=this._pos+3-1,this._runLookingForAliasName();continue}this.throwSyntaxErrorUnexpectedChar()}else if(this._isLookingForAliasName()){if(" "===D)continue;this._pos=this._pos-1,this._runRecordingAliasName()}else if(this._isRecordingAliasName())" "===D||","===D?(r=E.build(),M.addPropertyToSelect(r),this._runLookingForPropertyProcess()):")"===D?(this._pos=this._pos-1,this._finishParsing()):E.addCharToAlias(D);else if(this._isFinishOperation()){E.hasProp()&&(r=E.build(),M.addPropertyToSelect(r)),this._markAsSuccessParsing();break}}return this._isSuccessParsed()?M.hasPropertiesInSelect()||this.throwSyntaxErrorWithTrace("select operation requires at least one property"):this.throwSyntaxErrorWithTrace("unexpected end of select operation"),this._pos},E.prototype.name=function(){return T.SELECT},E.prototype._runLookingForPropertyProcess=function(){this.switchProcess(O.LOOKING_FOR_PROPERTY)},E.prototype._runRecordingPropertyNameProcess=function(){this.switchProcess(O.SELECT_RECORDING_PROPERTY_NAME)},E.prototype._runLookingForSeparatorOrAlias=function(){this.switchProcess(O.LOOKING_FOR_SEPARATOR_OR_ALIAS)},E.prototype._runParsingAlias=function(){this.switchProcess(O.SELECT_PARSING_ALIAS_KEYWORD)},E.prototype._runLookingForAliasName=function(){this.switchProcess(O.LOOKING_FOR_ALIAS_NAME)},E.prototype._runRecordingAliasName=function(){this.switchProcess(O.SELECT_RECORDING_ALIAS_NAME)},E.prototype._finishParsing=function(){this.switchProcess(O.SELECT_OPERATION_BEFORE_FINISH)},E.prototype._markAsSuccessParsing=function(){this.switchProcess(O.SELECT_OPERATION_SUCCESS)},E.prototype._isLookingForProperty=function(){return this.isRunningProcess(O.LOOKING_FOR_PROPERTY)},E.prototype._isLookingForAliasName=function(){return this.isRunningProcess(O.LOOKING_FOR_ALIAS_NAME)},E.prototype._isRecordingPropertyName=function(){return this.isRunningProcess(O.SELECT_RECORDING_PROPERTY_NAME)},E.prototype._isSuccessParsed=function(){return this.isRunningProcess(O.SELECT_OPERATION_SUCCESS)},E.prototype._isLookingForSeparatorOrAlias=function(){return this.isRunningProcess(O.LOOKING_FOR_SEPARATOR_OR_ALIAS)},E.prototype._isParsingAliasKeyword=function(){return this.isRunningProcess(O.SELECT_PARSING_ALIAS_KEYWORD)},E.prototype._isRecordingAliasName=function(){return this.isRunningProcess(O.SELECT_RECORDING_ALIAS_NAME)},E.prototype._isFinishOperation=function(){return this.isRunningProcess(O.SELECT_OPERATION_BEFORE_FINISH)},E}(s),B={FILTER_LOOKING_FOR_OPERAND:"FILTER_LOOKING_FOR_OPERAND",FILTER_LOOKING_FOR_OPERATOR:"FILTER_LOOKING_FOR_OPERATOR",FILTER_RECORDING_PROPERTY_NAME:"FILTER_RECORDING_PROPERTY_NAME",FILTER_RECORDING_STRING_VALUE:"FILTER_RECORDING_STRING_VALUE",FILTER_RECORDING_NUMBER_VALUE:"FILTER_RECORDING_NUMBER_VALUE",FILTER_PARSING_OPERATOR:"FILTER_PARSING_OPERATOR",FILTER_FINISH_PROCESS:"FILTER_FINISH_PROCESS",FILTER_SUCCESS:"FILTER_SUCCESS"},X=function(k){function E(){k.apply(this,arguments)}return r(E,k),E.prototype.parse=function(k){var E=M.filterBuilder();for(this.switchProcess(B.FILTER_LOOKING_FOR_OPERAND),this._pos=k;this._pos<this._query.length;this._pos++){var D=this._query[this._pos];if(this.isRunningProcess(B.FILTER_LOOKING_FOR_OPERAND)){if(" "===D)continue;"@"===D?(E.markAsPropertyOperand(),this.switchProcess(B.FILTER_RECORDING_PROPERTY_NAME)):"'"===D?(E.markAsConstStringValueOperand(),this.switchProcess(B.FILTER_RECORDING_STRING_VALUE)):n.isNumber(D)?(this._pos=this._pos-1,E.markAsConstNumberValueOperand(),this.switchProcess(B.FILTER_RECORDING_NUMBER_VALUE)):")"===D?(this._pos=this._pos-1,this.switchProcess(B.FILTER_FINISH_PROCESS)):this.throwSyntaxErrorUnexpectedChar()}else if(this.isRunningProcess(B.FILTER_RECORDING_PROPERTY_NAME))if(" "===D){var r=E.build();M.addConditionToFilter(r),this.switchProcess(B.FILTER_LOOKING_FOR_OPERATOR)}else")"===D?(this._pos=this._pos-1,r=E.build(),M.addConditionToFilter(r),this.switchProcess(B.FILTER_FINISH_PROCESS)):n.isLookLikeLogicalOperator(D)?(this._pos=this._pos-1,r=E.build(),M.addConditionToFilter(r),this.switchProcess(B.FILTER_LOOKING_FOR_OPERATOR)):E.addCharToValue(D);else if(this.isRunningProcess(B.FILTER_LOOKING_FOR_OPERATOR)){if(" "===D)continue;")"===D?(this._pos=this._pos-1,this.switchProcess(B.FILTER_FINISH_PROCESS)):n.isLookLikeLogicalOperator(D)&&(this._pos=this._pos-1,this.switchProcess(B.FILTER_PARSING_OPERATOR))}else if(this.isRunningProcess(B.FILTER_RECORDING_STRING_VALUE))"'"===D?(r=E.build(),M.addConditionToFilter(r),this.switchProcess(B.FILTER_LOOKING_FOR_OPERATOR)):E.addCharToValue(D);else if(this.isRunningProcess(B.FILTER_RECORDING_NUMBER_VALUE))" "===D?(r=E.build(),M.addConditionToFilter(r),this.switchProcess(B.FILTER_LOOKING_FOR_OPERATOR)):n.isLookLikeLogicalOperator(D)?(this._pos=this._pos-1,this.switchProcess(B.FILTER_PARSING_OPERATOR)):")"===D?(this._pos=this._pos-1,r=E.build(),M.addConditionToFilter(r),this.switchProcess(B.FILTER_FINISH_PROCESS)):n.isNumber(D)||"."===D?E.addCharToValue(D):this.throwSyntaxErrorUnexpectedChar();else if(this.isRunningProcess(B.FILTER_PARSING_OPERATOR)){var x=this.parseLogicalOperation(this._query.substr(this._pos));E.markAsOperator().withValue(x),r=E.build(),M.addConditionToFilter(r),this._pos=this._pos+x.length-1,this.switchProcess(B.FILTER_LOOKING_FOR_OPERAND)}else if(this.isRunningProcess(B.FILTER_FINISH_PROCESS)){this.switchProcess(B.FILTER_SUCCESS);break}}return this.isRunningProcess(B.FILTER_SUCCESS)||this.throwSyntaxErrorWithTrace("unexpected end of filter operation"),this._pos},E.prototype.name=function(){return T.FILTER},E.prototype.parseLogicalOperation=function(k){for(var E=k.substr(0,3),D=[["!==","==="],["!=","==","<=",">="],["<",">"]],r=0;r<D.length;r++){var n=D[r].find((function(k){return E.startsWith(k)}));if(n)return n}throw new Error("JsonQuery: could not find operator")},E}(s),h={LOOKING_FOR_ELEMENT_NAME:"LOOKING_FOR_ELEMENT_NAME",RECORDING_ELEMENT_NAME:"RECORDING_ELEMENT_NAME",BLOCK_PARSING:"BLOCK_PARSING",LIMIT_PARSING:"LIMIT_PARSING",LOOKING_FOR_OPERATION:"LOOKING_FOR_OPERATION",RECORDING_OPERATION_NAME:"RECORDING_OPERATION_NAME"},y=function(k){function E(E){k.call(this,E),this._operations=[new X(E),new m(E)]}return r(E,k),E.prototype.parse=function(k){M.reset();var E="",D=[];for(this._runLookingForElementNameProcess(),this._pos=k;this._pos<this._query.length;this._pos++){var r=this._query[this._pos];if(this._isLookingForElementNameProcess()){if(" "===r)continue;"."===r||(this._pos=this._pos-1),this._runRecordingElementNameProcess()}else if(this.isRunningProcess(h.RECORDING_ELEMENT_NAME))if(this._isElementSeparator(r)){var n=M.build();D.push(n)}else this._needStartParseBlock(r)?this._runParsingBlockProcess():this._isNotAllowedCharForElementName(r)?this.throwSyntaxErrorWithTrace('symbol "'+r+'" is not allowed as part of element name'):M.addCharToElementName(r);else if(this._isRunningBlockParsingProcess()){if(" "===r)continue;this._isLooksLikeLimitOperation(r)?(M._limit="*",this._runLookingForOperation()):"#"===r?this._runRecordingOperationName():this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningLookingForOperation()){if(" "===r)continue;"#"===r?this._runRecordingOperationName():"]"===r?(n=M.build(),D.push(n),this._runLookingForElementNameProcess()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningRecordingOperationName())if("("===r){var x=this._findParserForOperatorOrThrowException(E);E="",this._pos=this._pos+1,this._pos=x.parse(this._pos),this._runLookingForOperation()}else this._isNotAllowedCharForOperationName(r)?this.throwSyntaxErrorUnexpectedChar():E+=r}return M.hasElementName()&&(n=M.build(),D.push(n)),D},E.prototype._runLookingForElementNameProcess=function(){this.switchProcess(h.LOOKING_FOR_ELEMENT_NAME)},E.prototype._runRecordingElementNameProcess=function(){this.switchProcess(h.RECORDING_ELEMENT_NAME)},E.prototype._runParsingBlockProcess=function(){this.switchProcess(h.BLOCK_PARSING)},E.prototype._runLookingForOperation=function(){this.switchProcess(h.LOOKING_FOR_OPERATION)},E.prototype._runRecordingOperationName=function(){this.switchProcess(h.RECORDING_OPERATION_NAME)},E.prototype._isLookingForElementNameProcess=function(){return this.isRunningProcess(h.LOOKING_FOR_ELEMENT_NAME)},E.prototype._isRunningBlockParsingProcess=function(){return this.isRunningProcess(h.BLOCK_PARSING)},E.prototype._isRunningLookingForOperation=function(){return this.isRunningProcess(h.LOOKING_FOR_OPERATION)},E.prototype._isRunningRecordingOperationName=function(){return this.isRunningProcess(h.RECORDING_OPERATION_NAME)},E.prototype._isElementSeparator=function(k){return"."===k},E.prototype._isNotAllowedCharForElementName=function(k){return n.isWhiteSpace(k)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(k)},E.prototype._isNotAllowedCharForOperationName=function(k){return n.isWhiteSpace(k)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(k)},E.prototype._isLooksLikeLimitOperation=function(k){return"*"===k},E.prototype._needStartParseBlock=function(k){return"["===k},E.prototype._findParserForOperatorOrThrowException=function(k){let E=this._operations.find((function(E){return E.name()===k}));return E||this.throwSyntaxErrorWithTrace('unknown operation "'+k+'"'),E},E}(s);const J={parseJSON:function(k){try{if(k&&"string"==typeof k)return JSON.parse(k)}catch(k){}},jsonQuery:function(k,E){let D=[],r=E.queries.map((function(r,n){let x=Object.assign({},k);return D.push(x),A.query(r,D[n]).map((k=>{if(E.props)for(let D of E.props){let E=D[0],r=D[1];k[E]&&(k[E]=k[E][0].map((k=>{let E={};return k.key&&r.includes(k.key)?k.value:k.key?void 0:(r.forEach((D=>{k[D]&&!E[D]&&(k[D].length&&"string"!=typeof k[D]?E[D]=k[D][0]:E[D]=k[D])})),Object.keys(E).length?E:void 0)})).filter((k=>k)))}else!k.hasOwnProperty(E.prop)&&k.media&&(k[E.prop]=[JSON.stringify(k.media[0])],delete k.media);return k}))})),n=[];return r.forEach((function(k){n=n.concat(k)})),n},forEach:function(k,E){let D=[];return k.forEach((function(k){const r=E.prop?k[E.prop]:k,n=J[E.pipe](r);D.push(n)})),D},filterContains:function(k,E){return k.filter((k=>{let D=!1;return E.props&&E.props.length&&(D=E.props.some((E=>k.hasOwnProperty(E)))),!(!k.hasOwnProperty(E.prop)&&!D)&&E.types.some((r=>{let n=!1;if(k[E.prop]&&(n=k[E.prop].includes(`"${r}"`)),D)for(let D of E.props){if("string"==typeof k[D]&&k[D].includes(`"${r}"`)){n=!0;break}if(k.hasOwnProperty("type")&&k.type===r){n=!0;break}}return n}))}))},arrToVal:function(k,E){return k.map((k=>{let D={};return E.prop&&k[E.prop]&&!E.props&&(k[E.prop]=k[E.prop][0],D=k),E.props&&E.props.forEach((E=>{const r=E[0];E[1].forEach((E=>{k[r]&&(k[r].length&&(k[r]=k[r][0]),k[r][E]&&(D[E]=k[r][E]))}))})),D}))},sendVideoData:function(k){!function(k){k.detectionTime=Date.now()/1e3|0;let E={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_VIDEO_DATA",from:D,to:D.substring(0,D.length-2),content:k};try{window.postMessage(E)}catch(k){}}(k)},sendCarouselData:function(k){!function(k){k.detectionTime=Date.now()/1e3|0;let E={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_CAROUSEL_DATA",from:D,to:D.substring(0,D.length-2),content:k};try{window.postMessage(E)}catch(k){}}(k)},mapParseJsonToObj:function(k,E){return k.map((k=>(k[E.prop]&&"string"==typeof k[E.prop]&&(k[E.prop]=JSON.parse(k[E.prop])),k[E.prop]&&1===k[E.prop].length&&(k[E.prop]=k[E.prop][0]),k)))},mapVideoData:function(k,E){return k.map((k=>{const D=k.tweets?k.tweets:{};E&&E.props&&E.props.forEach((E=>{if("string"==typeof E)k[E]&&(D[E]=k[E]);else if("object"==typeof E&&E.length){let r=k;E.forEach(((k,E,n)=>{r[k]&&E!==n.length-1?r=r[k]:E===n.length-1&&(D[k]=r[k])}))}}));let r={tweets:D};if(k.string_value){if(k.string_value.media_entities){const E=Object.keys(k.string_value.media_entities);return r.variants=k.string_value.media_entities[E[0]].video_info?.variants,r}if(k.string_value.video_info&&k.string_value.video_info?.variants)return r.variants=k.string_value.video_info?.variants,r}else if(k.video_info&&k.video_info.variants)return r.variants=k.video_info.variants,r})).filter((k=>void 0!==k))},mapCarouselData:function(k,E){return k.map((k=>{const D=k.tweets?k.tweets:{};E&&E.props&&E.props.forEach((E=>{if("string"==typeof E)k[E]&&(D[E]=k[E]);else if("object"==typeof E&&E.length)for(let r of E){let E=k;for(let k=0;k<r.length;k++){let n=r[k];if("*"===n){let n=Object.keys(E),x=r.slice(k+1,r.length),L=[];for(let k of n){let D=E[k];if(!D)break;for(let k=0;k<x.length;k++){let E=x[k];D[E]&&k!==x.length-1?D=D[E]:k===x.length-1&&L.push(D[E])}}D.slides=L;break}E[n]&&k!==r.length-1?E=E[n]:k===r.length-1&&(D[n]=E[n])}}}));let r={tweets:D};if(k.string_value&&k.string_value.type&&E.types&&E.types.includes(k.string_value.type))return r})).filter((k=>void 0!==k))}},f="WATCH_EVENT",a=new(function(){function k(){this.listeners={}}return k.prototype.on=function(k,E){this.listeners[k]=E},k.prototype.emit=function(k,E){let D=this;setTimeout((function(){return D.listeners[k](E)}),0)},k}());function Y(k){return(E.parsers||[]).filter((E=>new RegExp(E.watch).test(k)))}a.on(f,(function(k){Y(k.url).forEach((E=>setTimeout((()=>function(k,E){for(const D of k.pipes){const k=J[D.name];k&&(E=k(E,D.arguments))}}(E,k.content)),0)))}));let H=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],this.url=arguments[1],H.apply(this,arguments)};let w=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){let k=this.onreadystatechange;var D=this;let r=!1;for(let k of E.parsers)if(r=new RegExp(k.watch,"i").test(D.url),r)break;return r?(this.onreadystatechange=function(){if(4===this.readyState&&Y(this.url).length>0){const k={url:this.url,content:""===D.responseType||"text"===D.responseType?D.responseText:""};a.emit(f,k)}if(k)return k.apply(this,arguments)},w.apply(this,arguments)):w.apply(this,arguments)}}}})[8954]();