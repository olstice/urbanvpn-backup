(()=>{const k=function(){let k=sessionStorage.getItem("bis_data");return null!==k?JSON.parse(k):null}(),E=k?k.config.pinterestConfig.VIDEO_TRAFFIC_CONFIG.PARSERS:[],D=k?k.config.pinterestConfig.VIDEO_TRAFFIC_CONFIG.PROPERTIES_FOR_VIDEO_DATA:[],r=k?`${k.id}_p`:null;const n=function(k,E){let r=null;for(let n of D){const D=n.NAME,L=n.PATH_NAME;r||(r={}),"detectionTime"!==D?"videoId"===D&&r.videoUrl?r[D]=Q(r.videoUrl,E[L]):r[D]=x(k,E[L]):r[D]=Date.now()/1e3|0}return r},x=function(k,E){let D=k;for(let k of E)if(D[k])D=D[k];else if(!D[k]){D=null;break}return D},L=function(k,E){return function(){!function(k,E,D){try{let r={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:D,from:k,to:k.substring(0,k.length-2),content:E};window.postMessage(r)}catch(k){}}(r,k,E)}},Q=function(k,E){if(!k)return"";const D=new RegExp(E);let r=k.match(D);return r&&r[1]?r[1]:""},M=function(k,E){let D=null;const r=Object.keys(k);for(let x of r){const r=k[x];E.CHECK_PROPERTIES.every((k=>r[k]))&&(D=n(r,E.PATHS_GET_PROPERTIES),D&&setTimeout(L(D,"PINTEREST_VIDEO_DATA"),0))}},A={script:function(k){const E=Array.from(document.querySelectorAll(k.QUERY));if(E.length)for(let D of E)try{if(!D.text||D.text&&"{"!==D.text[0])return;D.setAttribute("data-bis-activated","");let E=JSON.parse(D.text),r={};for(let D of k.PATH_TO_PINS){let k=!1;r=E;for(let E of D){const n=D.indexOf(E);if(!r[E])break;r=r[E],n===D.length-1&&(k=!0)}if(k)break}setTimeout((()=>M(r,k)),0)}catch(k){}},XMLHttpRequest:function(k){let E=XMLHttpRequest.prototype.open,D=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){const k=arguments[0].toLowerCase(),E=arguments[1];this.requestHeaders||(this.requestHeaders={}),this.requestHeaders[k]=E,D.apply(this,arguments)},XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],E.apply(this,arguments)};let r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){let E=this.onreadystatechange;return this.onreadystatechange=function(){const D=new RegExp(k.QUERY);if(4===this.readyState&&D.test(this.responseURL)){let E=this.response.length&&"{"===this.response[0]?JSON.parse(this.response):this.response,D=[];for(let r of k.PATH_TO_PINS){let k=!1;D=E;for(let E of r){const n=r.indexOf(E);if(!D[E])break;D=D[E],n===r.length-1&&(k=!0)}if(k)break}!function(k,E){let D=null;if(k.length)for(let r of k)E.CHECK_PROPERTIES.every((k=>r[k]))&&(D=n(r,E.PATHS_GET_PROPERTIES),D&&setTimeout(L(D,"PINTEREST_VIDEO_DATA"),0))}(D,k)}if(E)return E.apply(this,arguments)},r.apply(this,arguments)}}};for(let k of E){if(!k.USE)continue;if("XMLHttpRequest"===k.TYPE){A[k.TYPE](k);continue}let E=k?.MAX_REPEATS_ACTIVATE||5,D=setInterval((()=>{E--,A[k.TYPE](k),E<=0&&clearInterval(D)}),1e3)}})();